<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="" />
    <title>Starting out with Discover Deis :: Jessica Huynh</title>
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/foundation/6.2.1/foundation.min.css">
    
    <link href="/css/styles.css" rel="stylesheet">
    
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="preload" as="style" onload="this.rel='stylesheet'" integrity="sha384-hQpvDQiCJaD2H465dQfA717v7lu5qHWtDbWNPvaTJ0ID5xnPUlVXnKzq7b8YUkbN" crossorigin="anonymous">
    
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Fira+Sans" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" as="style" onload="this.rel='stylesheet'">  
    
  </head>
  <body lang="en">
    <div class="wrapper">
      <header class="masthead">
        <h1><a href="/">Jessica Huynh</a> <small>/hwɪn/</small></h1>
        
        <nav>
          <div class="title-bar" data-responsive-toggle="navBar" data-hide-for="medium">
            <div class="title-bar-title"><a href="/">Jessica Huynh</a></div>
            <button type="button" data-toggle>
              <i class="fa fa-bars" aria-hidden="true" title="skip to main navigation"></i>
              <span class="sr-only">Skip to main navigation</span>
            </button>
          </div>  

          <div class="top-bar row" id="navBar">
            <div class="top-bar-left small-12">
              <ul class="dropdown menu vertical medium-horizontal" data-dropdown-menu>
                
                  
                  
                    
                    
                      <li><a href="/about">about</a></li>
                    
                      <li><a href="/portfolio">portfolio</a></li>
                    
                      <li class="active"><a href="/blog">blog</a></li>
                    
                      <li><a href="/contact">contact</a></li>
                    
                  
                
              </ul>
            </div>
          </div>
          
        </nav>
      </header>
      
      <div class="mainContent">


	<div class="row">
	<header class="small-12 columns">
		<h1 class="postTitle text-center"><a href="/blog/2015/08/starting-out-with-discover-deis/">Starting out with Discover Deis</a></h1>
		<p class="text-center"><span class="label"><i class="fa fa-calendar" aria-hidden="true"></i>&nbsp;Tue, Aug 4, 2015</span>

<span class="secondaryDarker label"><i class="fa fa-clock-o" aria-hidden="true"></i>&nbsp;6&nbsp;minutes</span>

<a href="/blog/type/post"><span class="orangish label"><i class="fa fa-archive" aria-hidden="true"></i>&nbsp;post</span></a>


	<a href="/blog/category/web-development"><span class="reddish label"><i class="fa fa-folder-open" aria-hidden="true"></i>&nbsp;Web development</span></a>



	<a href="/blog/tag/jbs"><span class="transparent label"><i class="fa fa-tag" aria-hidden="true"></i>&nbsp;jbs</span></a>

</p>
	</header> 
</div>

<div class="row">
	<div class="medium-3 columns sidebar" data-sticky-container>
		<div class="sticky" data-sticky data-anchor="article" data-btm-anchor="mainContent:bottom">

			<aside class="toc">
				<header class="sideBoxHeader"><a href="#">In this post <i class="fa fa-chevron-right" aria-hidden="true"></i></a></header>
				<div class="sideBoxContent"><nav id="TableOfContents">
<ul>
<li><a href="#brandeis-voice-tour">Brandeis Voice Tour</a>
<ul>
<li><a href="#data-collection-and-point-in-polygon-testing">Data collection and point-in-polygon testing</a></li>
<li><a href="#grabbing-the-distance">Grabbing the distance</a></li>
<li><a href="#routing">Routing</a></li>
</ul></li>
<li><a href="#switching-to-a-navigation-app">Switching to a navigation app</a></li>
</ul>
</nav></div>
			</aside>
			
			
			
			
				 
				<aside class="alsoInProject">
					<header class="sideBoxHeader"><a href="#">Posts about Discover Deis <i class="fa fa-chevron-right" aria-hidden="true"></i></a></header>
					<div class="sideBoxContent">
						<ol>
							
							
								
									
										<li>
											
												Starting out with Discover Deis
											
										</li> 
									
								
							
						</ol>
						<span class="text-right"><a href="/portfolio/discover-deis">All&hellip;</a></span>
					</div>
				</aside>
			
		</div>
	</div>
	
	<article class="medium-6 columns" id="article">		
		

<p>For the past nine weeks, I’ve been a member of the <a href="https://sites.google.com/a/brandeis.edu/jbs-2015-cosi/">Voice, Mobile, and Web Application Development Justice Brandeis Semester</a>, a program that helped us learn exactly what it seems like we should. Now that it’s over and done with, I’d like to look back on exactly how we got our app to where it is and some steps in the future we can take, because it’d be nice to make this a much more official app and fill out the empty spots in our already extensive database.</p>

<h1 id="brandeis-voice-tour">Brandeis Voice Tour</h1>

<p>The program was nine weeks long, with the first five weeks devoted to classes (and working on our group project on Wednesdays) and the last four devoted to solely working on our project. The first two Wednesdays were devoted to team building with all the members of the JBS, followed by team formation and getting out the minimum viable product (MVP).</p>

<p>When the group was originally formed, we were going to do hands-free navigation of public transportation. After some discussion, we switched to a voice tour app for Brandeis, partly because there was a higher chance of people getting to use it, and partly because hands-free navigation of public transit has already been done by larger groups than us.</p>

<h2 id="data-collection-and-point-in-polygon-testing">Data collection and point-in-polygon testing</h2>

<p>At this stage, we knew that there were about 150 or so buildings on campus. The question of how to detect what buildings the user was in or near came up, and the original thought was to start off with JSON objects (with one location per object), with a field that was an array of coordinates. In this array, we’d have four coordinates, and if your current location was less than this point but greater than this point, you’d be inside.</p>

<p>A better way soon came up. I came across an <a href="http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html">implementation of point-in-polygon testing in C</a> and decided to convert it to JavaScript. The way this works is that a ray is cast from the point (in this case your current location) through the polygon (the building’s vertices). If this ray intersects an odd number of times, you’re inside the location. If not, you’re outside.</p>

<pre><code>pointIncluded: function(vertices, current) {
    included = false;
    numVert = vertices.length;

    // create arrays of the x and y coordinates of the polygon
    var xArray = [];
    for (var i = 0; i &amp;lt; numVert; i++) {
        xArray.push(vertices[i].x);
    }       
    var yArray = [];
    for (var i = 0; i &amp;lt; numVert; i++) {
        yArray.push(vertices[i].y);
    }

    for (var i = 0, j = numVert - 1; i &amp;lt; numVert; j = i++) { if ((yArray[i] &amp;gt;= current.y) != (yArray[j] &amp;gt;= current.y) &amp;amp;&amp;amp;
            (current.x &amp;lt;= (xArray[j] - xArray[i]) * (current.y - yArray[i]) / (yArray[j] - yArray[i]) + xArray[i])) {
            included = !included;

        }
    }

    return included;
},
</code></pre>

<p>The relevant bit is the third for-loop.</p>

<h2 id="grabbing-the-distance">Grabbing the distance</h2>

<p>So that’s all well and good, but if you’re not in a location, it’d be nice to know how close you are to the closest location. To that end, we used a distance algorithm for coordinates (it’s not very interesting so I won’t show it; it’s in the GitHub if you’re really curious) that returns the distance between two points. In the interest of time and convenience, I wrote it so that the point of the location that is passed to the distance function is just the first element in that array of coordinates.</p>

<h2 id="routing">Routing</h2>

<p>We initially tried it out on a set of about six locations on campus and the distance finding and point-in-polygon worked pretty well and this was the MVP we submitted after the first week as a group.</p>

<p>The next step was to route between locations and our first intuition (because I already had a bad feeling about having to get intersections’ coordinate data) was to write paths between each location that we had that was connected. Tianci found an implementation of single source, shortest path in JavaScript and we had routing working between our six locations.</p>

<h1 id="switching-to-a-navigation-app">Switching to a navigation app</h1>

<p>Throughout this process, part of the JBS was that we list features we would like in our app and do sprints and stories (as part of agile development, although I can’t say that many of the groups adhered very strictly to it) revolving around it. One issue we kept running into was feature bloat, wanting to add things like events nearby and classes at a location, along with a lot of arguing over what exactly would be on the home page. I was a big fan of a map and buttons and Ziyu thought that achievements and a profile would be good, to keep people coming back.</p>

<p>And I think the main issue, looking back on it, was that we all wanted something that people would use a lot. While tour apps are cool, they’re not something you use more than twice at most in your life. Adding events and achievements and such were a way to keep people coming back, or so the thinking went.</p>

<p>It was the discussions/arguments over the home page that really brought this to light, because ideally you want the home page to reflect the primary purpose. For the first round of user feedback with the fellow members of this JBS, there was a lot of confusion about our home page design (just a carousel of images of different ‘types’ of tours) and a lot of people wanting to use it for navigation, which at the time was just a secondary purpose of the app. After all, if you can route between locations when you create your own tour, why not surface that as a separate function for people?</p>

<p>I think it was pretty clear at this point that navigation was a much better thing to work on, but we all had an inkling of the amount of data to collect and that put us off for a bit. We had another discussion and decided to focus on the self-guided tour and fixed tours with written descriptions, dropping the create your own tour feature.</p>

<p>Of course, as these things go, after that we had a discussion about maybe doing an informational app, since that would be more useful than a tour app and we’d be collecting mostly the same data. By this point, we had about fifty or so buildings in our set.</p>

<p>And then someone went “since everyone in the first user feedback wanted to use it to navigate, and everyone we talked to would like a navigation app, let’s do a navigation app!” And I think next post, I’ll talk about some of the structure behind that and how we collected our data.</p>

		<hr>
<section class="row prevnextpost">
	<div class="small-6 columns">
		
			
			<p><a href="/blog/2013/03/sidebars-again/"><i class="fa fa-chevron-left" aria-hidden="true"></i>&nbsp;Custom Sidebars in WordPress (again)</a></p>
			
		
	</div>
	<div class="small-6 columns">
		
			
			<p class="text-right"><a href="/blog/2016/05/migrating-to-hugo/">Migrating to Hugo&nbsp;<i class="fa fa-chevron-right" aria-hidden="true"></i></a></a>
			
		
	</div>
</section>
	</article>
	
	
<div class="small-12 medium-3 columns blogbar">
	<div>

		<aside>
			<header class="sideBoxHeader"><a href="#"><i class="fa fa-calendar" aria-hidden="true"></i>&nbsp;Archives <i class="fa fa-chevron-right" aria-hidden="true"></i></a></header>
			<div class="sideBoxContent">
				<ul>
					
						
						<li><a href="/blog/2016/07">July 2016</a></li>
					
						
						<li><a href="/blog/2016/05">May 2016</a></li>
					
						
						<li><a href="/blog/2015/08">August 2015</a></li>
					
						
						<li><a href="/blog/2013/03">March 2013</a></li>
					
				</ul>
			</div>
		</aside>
		
		<aside>
			<header class="sideBoxHeader"><a href="#"><i class="fa fa-archive" aria-hidden="true"></i>&nbsp;<span class="decoration">Post </span>Types <i class="fa fa-chevron-right" aria-hidden="true"></i></a></header>
			<div class="sideBoxContent">
				<ul>
					
						<li><a href="/blog/type/post">post</a></li>
					
						<li><a href="/blog/type/status">status</a></li>
					
				</ul>
			</div>
		</aside>
		
		<aside>
			<header class="sideBoxHeader"><a href="#"><i class="fa fa-folder-open" aria-hidden="true"></i>&nbsp;Categories <i class="fa fa-chevron-right" aria-hidden="true"></i></a></header>
			<div class="sideBoxContent">
				<ul>
					
					
					
						
						
						
						
						
						
							
						
							
						
							
						
							
						
						
						<li><a href="/blog/category/jessicahuynh.info">jessicahuynh.info</a></li>
					
						
						
						
						
						
						
							
						
							
						
							
						
							
						
						
						<li><a href="/blog/category/web-development">Web development</a></li>
					
						
						
						
						
						
						
							
						
							
						
							
						
							
						
						
						<li><a href="/blog/category/wordpress">WordPress</a></li>
					
						
						
						
						
						
						
							
						
							
						
							
						
							
						
						
						<li><a href="/blog/category/recipes">Recipes</a></li>
					
				</ul>
			</div>
		</aside>
		
		<aside class="tagCloud">
			<header class="sideBoxHeader"><a href="#"><i class="fa fa-tags" aria-hidden="true"></i>&nbsp;Tags <i class="fa fa-chevron-right" aria-hidden="true"></i></a></header>
			<div class="sideBoxContent">
				<ul>
					
						<li><a href="/blog/tag/hugo">hugo</a></li>
					
						<li><a href="/blog/tag/jbs">jbs</a></li>
					
						<li><a href="/blog/tag/php">php</a></li>
					
						<li><a href="/blog/tag/sidebars">sidebars</a></li>
					
						<li><a href="/blog/tag/summer-2016">summer-2016</a></li>
					
						<li><a href="/blog/tag/vietnamese">vietnamese</a></li>
					
						<li><a href="/blog/tag/widgets">widgets</a></li>
					
				</ul>
			</div>
		</aside>
		
	</div>

</div>
</div>


      </div>
      <div class="push"></div>
    </div>
    
    <footer>
      <div class="row">
        
        <aside class="small-12 medium-4 columns">
          <p>Made with HTML5, CSS3, <a href="https://code.visualstudio.com/">Visual Studio Code</a>, <a href="http://foundation.zurb.com/">Foundation&nbsp;6</a>, <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a>, and <a href="http://gohugo.io/">Hugo</a>. Hosted by <a href="https://www.netlify.com/">Netlify</a> with continuous integration&mdash;take a look at the <a href="https://github.com/jessicahuynh/jessicahuynh">repo</a>!</p>
        </aside>
        
        <aside class="small-12 medium-4 columns featuredposts">
          <header>Recent posts</header>
          <ul>
            
              
                <li><a href="/blog/2016/07/goi-cuon/">Gỏi cuốn and peanut sauce recipe</a></li>
              
            
              
                <li><a href="/blog/2016/05/migrating-to-hugo/">Migrating to Hugo</a></li>
              
            
              
                <li><a href="/blog/2015/08/starting-out-with-discover-deis/">Starting out with Discover Deis</a></li>
              
            
              
                <li><a href="/blog/2013/03/sidebars-again/">Custom Sidebars in WordPress (again)</a></li>
              
            
           </ul>
        </aside>
        
        <aside class="small-12 medium-4 columns socialmedia text-center">
            <a href="http://twitter.com/jessicahhuynh" class="twitter"><i class="fa fa-twitter fa-3x"></i></a>
            <a href="http://www.linkedin.com/in/jessicahhuynh" class="linkedin"><i class="fa fa-linkedin-square fa-3x"></i></a>
            <a href="http://github.com/jessicahuynh" class="github"><i class="fa fa-github fa-3x"></i></a>
            <a href="/index.xml" class="rss" type="application/rss+xml"><i class="fa fa-rss fa-3x"></i></a>
          </ul>
        </aside>
        
      </div>
      
    </footer>
    
    <p class="copyright">
      <span class="text-center">&copy; <a href="http://jessicahuynh.info/">Jessica Huynh</a>, 2012&ndash;2017</span>
    </p>
    
    <div class="backToTop">
      <a href="#"><i class="fa fa-chevron-circle-up" title="To the top of the page"></i></a>
    </div>
    
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/foundation/6.2.1/foundation.min.js"></script>
    <script type="text/javascript" src="/js/scripts.js"></script>
    
    
    
    
    <script type="text/javascript" src="/js/onloadcss.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-34043400-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>